# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Deutsch Trainer –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Deutsch Trainer –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–µ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## üéØ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ (Production Ready)

- ‚úÖ **112 passing —Ç–µ—Å—Ç–æ–≤ (100% success rate)**
- ‚úÖ **–ü–æ–ª–Ω–∞—è webpack –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - 16 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö JavaScript –º–æ–¥—É–ª–µ–π
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: JWT, bcrypt, Helmet, rate limiting
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: 270 –≥–ª–∞–≥–æ–ª–æ–≤ + –ø–µ—Ä–µ–≤–æ–¥—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- ‚úÖ **Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: Winston –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, GZIP compression
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**: timeout, authentication, verb_id

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Node.js**: –≤–µ—Ä—Å–∏—è 16.0.0 –∏–ª–∏ –≤—ã—à–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 18+)
- **npm**: –≤–µ—Ä—Å–∏—è 8.0.0 –∏–ª–∏ –≤—ã—à–µ  
- **MongoDB**: –≤–µ—Ä—Å–∏—è 4.4 –∏–ª–∏ –≤—ã—à–µ
- **–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: Ubuntu 20.04+ / CentOS 8+ / Windows Server 2019+
- **–ü–∞–º—è—Ç—å**: –º–∏–Ω–∏–º—É–º 2GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4GB+)
- **–î–∏—Å–∫**: –º–∏–Ω–∏–º—É–º 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –°–µ—Ç–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ü–æ—Ä—Ç 3000 (–∏–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —á–µ—Ä–µ–∑ NODE_PORT)
- –ü–æ—Ä—Ç 27017 –¥–ª—è MongoDB (–µ—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
- HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

## üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js (—á–µ—Ä–µ–∑ NodeSource)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
node --version  # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 16.0.0
npm --version   # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 8.0.0
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB
```bash
# Ubuntu/Debian
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
sudo apt-get update
sudo apt-get install -y mongodb-org

# –ó–∞–ø—É—Å–∫ MongoDB
sudo systemctl start mongod
sudo systemctl enable mongod
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo useradd -r -s /bin/false deutschtrainer
sudo mkdir -p /opt/deutschtrainer
sudo chown deutschtrainer:deutschtrainer /opt/deutschtrainer
```

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /opt/deutschtrainer
sudo -u deutschtrainer git clone <repository-url> .

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–∞
sudo -u deutschtrainer tar -xzf deutschtrainer.tar.gz
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
cd /opt/deutschtrainer
sudo -u deutschtrainer npm ci --only=production
```

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo -u deutschtrainer cp .env.production .env

# –ö–†–ò–¢–ò–ß–ù–û: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
sudo -u deutschtrainer nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ .env:**
```env
# –ò–ó–ú–ï–ù–ò–¢–¨: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π —Å–µ–∫—Ä–µ—Ç
JWT_SECRET=–°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ô_–ö–†–ò–ü–¢–û–ì–†–ê–§–ò–ß–ï–°–ö–ò_–°–¢–û–ô–ö–ò–ô_–°–ï–ö–†–ï–¢_–ú–ò–ù–ò–ú–£–ú_64_–°–ò–ú–í–û–õ–ê

# –ò–ó–ú–ï–ù–ò–¢–¨: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–Ω –ë–î
MONGO_URI=mongodb://localhost:27017/deutschtrainer_production

# –ò–ó–ú–ï–ù–ò–¢–¨: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –≤–∞—à –¥–æ–º–µ–Ω/IP
NODE_PORT=3000

# –ò–ó–ú–ï–ù–ò–¢–¨: –°–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
SESSION_SECRET=–î–†–£–ì–û–ô_–ö–†–ò–ü–¢–û–ì–†–ê–§–ò–ß–ï–°–ö–ò_–°–¢–û–ô–ö–ò–ô_–°–ï–ö–†–ï–¢

# Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NODE_ENV=production
ENABLE_LETTER_FILTER=true
LOG_LEVEL=info
```

### 4. üîß –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Webpack)
```bash
# Production —Å–±–æ—Ä–∫–∞ –≤—Å–µ—Ö JavaScript –º–æ–¥—É–ª–µ–π
sudo -u deutschtrainer npm run webpack:build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
ls -la public/javascripts/dist/
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏ (16 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π):**
- **–û—Å–Ω–æ–≤–Ω—ã–µ**: alphabet.bundle.js, search.bundle.js, pagination.bundle.js
- **UI**: themeSwitch.bundle.js, checkSentence.bundle.js, verbCard.bundle.js
- **–£—Ç–∏–ª–∏—Ç—ã**: namedRoutes.bundle.js
- **Verb-—Ñ—É–Ω–∫—Ü–∏–∏**: verbLearning.bundle.js, addTranslationField.bundle.js
- **User-—Ñ—É–Ω–∫—Ü–∏–∏**: verbInteractions.bundle.js, userFavorites.bundle.js, userLists.bundle.js, userListDetail.bundle.js
- **Auth-—Ñ—É–Ω–∫—Ü–∏–∏**: authHeader.bundle.js, authLogin.bundle.js, authRegister.bundle.js

### 5. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–æ–ª–Ω—ã–π –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (270 –≥–ª–∞–≥–æ–ª–æ–≤ + –ø–µ—Ä–µ–≤–æ–¥—ã)
sudo -u deutschtrainer npm run import:full

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ë–î
sudo -u deutschtrainer npm run db:stats
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞:**
- 270 –Ω–µ–º–µ—Ü–∫–∏—Ö –≥–ª–∞–≥–æ–ª–æ–≤
- 270 –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
- 780 –∑–∞–ø–∏—Å–µ–π –≤—Ä–µ–º–µ–Ω (present, past_simple, past_perfect)
- 110 –ø—Ä–∏–º–µ—Ä–æ–≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo -u deutschtrainer npm run health-check:prod

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 112 passing)
sudo -u deutschtrainer npm test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ webpack —Å–±–æ—Ä–∫–∏
sudo -u deutschtrainer npm run webpack:build
```

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
```bash
# UFW (Ubuntu)
sudo ufw allow 22/tcp   # SSH
sudo ufw allow 80/tcp   # HTTP
sudo ufw allow 443/tcp  # HTTPS
sudo ufw allow 3000/tcp # Node.js app (–≤—Ä–µ–º–µ–Ω–Ω–æ)
sudo ufw enable
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL/TLS
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Certbot –¥–ª—è Let's Encrypt
sudo apt-get install certbot

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot certonly --standalone -d your-domain.com
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
sudo apt-get install nginx

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nano /etc/nginx/sites-available/deutschtrainer
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx:**
```nginx
server {
    listen 80;
    server_name your-domain.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name your-domain.com;

    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;

    # Security headers
    add_header X-Frame-Options DENY;
    add_header X-Content-Type-Options nosniff;
    add_header X-XSS-Protection "1; mode=block";
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains";

    # Gzip compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Static files caching
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {
        expires 1y;
        add_header Cache-Control "public, no-transform";
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo ln -s /etc/nginx/sites-available/deutschtrainer /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

## üöÄ –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### 1. –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo nano /etc/systemd/system/deutschtrainer.service
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞:**
```ini
[Unit]
Description=Deutsch Trainer Application
After=network.target mongod.service
Requires=mongod.service

[Service]
Type=simple
User=deutschtrainer
Group=deutschtrainer
WorkingDirectory=/opt/deutschtrainer
ExecStart=/usr/bin/node server.js
Environment=NODE_ENV=production
Restart=always
RestartSec=5
StandardOutput=journal
StandardError=journal

# Security
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/opt/deutschtrainer/logs

[Install]
WantedBy=multi-user.target
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd
sudo systemctl daemon-reload

# –ó–∞–ø—É—Å–∫ –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
sudo systemctl start deutschtrainer
sudo systemctl enable deutschtrainer

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status deutschtrainer
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo journalctl -u deutschtrainer -f

# –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª–∞—Ö
sudo tail -f /opt/deutschtrainer/logs/app.log
sudo tail -f /opt/deutschtrainer/logs/error.log
sudo tail -f /opt/deutschtrainer/logs/security.log
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤
```bash
sudo nano /etc/logrotate.d/deutschtrainer
```

```
/opt/deutschtrainer/logs/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    su deutschtrainer deutschtrainer
}
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
sudo systemctl status deutschtrainer
htop

# –°–æ—Å—Ç–æ—è–Ω–∏–µ MongoDB
mongo --eval "db.serverStatus()"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tlnp | grep :3000
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl stop deutschtrainer

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
mongodump --db deutschtrainer_production --out /backup/$(date +%Y%m%d_%H%M%S)

# –ë—ç–∫–∞–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
sudo tar -czf /backup/app_$(date +%Y%m%d_%H%M%S).tar.gz /opt/deutschtrainer
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
```bash
cd /opt/deutschtrainer
sudo -u deutschtrainer git pull
sudo -u deutschtrainer npm ci --only=production
sudo -u deutschtrainer npm run webpack:build
sudo -u deutschtrainer npm run health-check:prod
```
### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
sudo systemctl start deutschtrainer
sudo systemctl status deutschtrainer
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. PM2 (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ systemd)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2
sudo npm install -g pm2

# –°–æ–∑–¥–∞–Ω–∏–µ ecosystem —Ñ–∞–π–ª–∞
sudo -u deutschtrainer nano ecosystem.config.js
```

```javascript
module.exports = {
  apps: [{
    name: 'deutschtrainer',
    script: 'server.js',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    },
    error_file: './logs/err.log',
    out_file: './logs/out.log',
    log_file: './logs/combined.log',
    time: true
  }]
};
```

```bash
# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2
sudo -u deutschtrainer pm2 start ecosystem.config.js
sudo -u deutschtrainer pm2 save
sudo pm2 startup
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MongoDB –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```bash
sudo nano /etc/mongod.conf
```

```yaml
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è MongoDB
storage:
  wiredTiger:
    engineConfig:
      cacheSizeGB: 1  # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥ –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
security:
  authorization: enabled

# –†–µ–ø–ª–∏–∫–∞—Ü–∏—è (–¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
replication:
  replSetName: rs0
```

## üõ°Ô∏è –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- [ ] JWT_SECRET –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π
- [ ] SESSION_SECRET –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
- [ ] MongoDB –∑–∞—â–∏—â–µ–Ω –ø–∞—Ä–æ–ª–µ–º
- [ ] –§–∞–π—Ä–≤–æ–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] Nginx security headers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –∏–º–µ–µ—Ç root –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
- [ ] –õ–æ–≥–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u deutschtrainer -f`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é: `npm run health-check:prod`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤: `sudo systemctl status deutschtrainer mongod nginx`

**–ê–≤—Ç–æ—Ä**: Maksym Lyubachevsky (m.lyubachevsky@gmail.com) 
